{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "additionalProperties": true,
    "properties": {
        "metadata": {
            "additionalProperties": true,
            "type": "object",
            "properties": {
                "clip_id": {
                    "type": "string"
                },
                "external_clip_id": {
                    "type": "string"
                },
                "project_id": {
                    "type": "string"
                },
                "export_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2} UTC$"
                },
                "exporter_version": {
                    "type": "string"
                },
                "coordinate_system_3d": {
                    "type": "string"
                },
                "coordinate_system_reference": {
                    "type": "string"
                },
                "folder_name": {
                    "type": "string"
                }
            },
            "required": [
                "clip_id",
                "coordinate_system_3d",
                "coordinate_system_reference",
                "export_time",
                "exporter_version",
                "external_clip_id",
                "folder_name",
                "project_id"
            ]
        },
        "coordinateSystems": {
            "type": "array",
            "items": {
                "additionalProperties": true,
                "type": "object",
                "properties": {
                    "coordinate_system_id": {
                        "type": "string"
                    },
                    "topic": {
                        "type": "string"
                    },
                    "frame_id": {
                        "type": "string"
                    },
                    "position": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 3,
                        "maxItems": 3
                    },
                    "rotation_quaternion": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 4,
                        "maxItems": 4
                    },
                    "rotation_matrix": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 9,
                        "maxItems": 9
                    },
                    "angle_axis_rotation": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 3,
                        "maxItems": 3
                    },
                    "homogeneous_transform": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 16,
                        "maxItems": 16
                    },
                    "measured_position": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "minItems": 3,
                        "maxItems": 3
                    },
                    "camera_matrix": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 9,
                        "maxItems": 9
                    },
                    "dist_coeffs": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 5,
                        "maxItems": 5
                    },
                    "rotation_around_z_in_degrees": {
                        "type": "number"
                    }
                },
                "required": [
                    "angle_axis_rotation",
                    "coordinate_system_id",
                    "frame_id",
                    "position",
                    "rotation_matrix",
                    "rotation_quaternion",
                    "topic"
                ]
            }
        },
        "frames": {
            "type": "array",
            "items": {
                "additionalProperties": true,
                "type": "object",
                "properties": {
                    "frameId": {
                        "type": "string"
                    },
                    "timestamp": {
                        "type": "string"
                    },
                    "annotations": {
                        "additionalProperties": true,
                        "type": "object",
                        "properties": {
                            "2D_BOUNDING_BOX": {
                                "type": "array",
                                "items": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "objectId": {
                                            "type": "string"
                                        },
                                        "className": {
                                            "type": "string"
                                        },
                                        "geometry": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "xMin": {
                                                    "type": "number"
                                                },
                                                "yMin": {
                                                    "type": "number"
                                                },
                                                "xMax": {
                                                    "type": "number"
                                                },
                                                "yMax": {
                                                    "type": "number"
                                                }
                                            },
                                            "required": [
                                                "xMax",
                                                "xMin",
                                                "yMax",
                                                "yMin"
                                            ]
                                        },
                                        "attributes": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "SignalAttachement_Left": {
                                                    "type": "boolean"
                                                },
                                                "SignalConnectedToSignals": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "pose": {
                                                    "type": "string",
                                                    "enum": [
                                                        "upright",
                                                        "sitting",
                                                        "lying",
                                                        "other"
                                                    ]
                                                },
                                                "species": {
                                                    "type": "string",
                                                    "enum": [
                                                        "dog",
                                                        "deer",
                                                        "fox",
                                                        "rabbit",
                                                        "wildBoar",
                                                        "cow",
                                                        "bird",
                                                        "other animal"
                                                    ]
                                                },
                                                "occlusion": {
                                                    "type": "string",
                                                    "enum": [
                                                        "0-25%",
                                                        "25-50%",
                                                        "50-75%",
                                                        "75-100%",
                                                        "100%"
                                                    ]
                                                },
                                                "isDistracted": {
                                                    "type": "boolean"
                                                },
                                                "isTruncated": {
                                                    "type": "boolean"
                                                },
                                                "isBottomVisible": {
                                                    "type": "boolean"
                                                },
                                                "SignalAttachement_Bottom": {
                                                    "type": "boolean"
                                                },
                                                "SignalAttachement_Top": {
                                                    "type": "boolean"
                                                },
                                                "trainConnectedToWagon": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "state": {
                                                    "type": "string",
                                                    "enum": [
                                                        "leftTrack",
                                                        "onTrack",
                                                        "rightTrack",
                                                        "unknown"
                                                    ]
                                                },
                                                "personConnectedToPerson": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "personalItemConnectedToPerson": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "carrying": {
                                                    "type": "string",
                                                    "enum": [
                                                        "none",
                                                        "backpack",
                                                        "hat",
                                                        "other"
                                                    ]
                                                },
                                                "aid": {
                                                    "type": "string",
                                                    "enum": [
                                                        "none",
                                                        "whiteCane",
                                                        "walkingAid",
                                                        "other"
                                                    ]
                                                },
                                                "state_personal_item": {
                                                    "type": "string",
                                                    "enum": [
                                                        "pulled",
                                                        "carried",
                                                        "alone"
                                                    ]
                                                },
                                                "type_personal_item": {
                                                    "type": "string",
                                                    "enum": [
                                                        "suitcase",
                                                        "umbrella",
                                                        "others"
                                                    ]
                                                },
                                                "SignalAttachement_Right": {
                                                    "type": "boolean"
                                                },
                                                "trackId": {
                                                    "type": "string"
                                                },
                                                "type_wagon": {
                                                    "type": "string",
                                                    "enum": [
                                                        "freight",
                                                        "intercity",
                                                        "regional",
                                                        "construction",
                                                        "other"
                                                    ]
                                                },
                                                "age": {
                                                    "type": "string",
                                                    "enum": [
                                                        "child",
                                                        "adult"
                                                    ]
                                                },
                                                "function": {
                                                    "type": "string",
                                                    "enum": [
                                                        "passenger",
                                                        "worker",
                                                        "security",
                                                        "staff",
                                                        "uniformed",
                                                        "other",
                                                        "unknown"
                                                    ]
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "solid",
                                                        "structured"
                                                    ]
                                                },
                                                "type_signal": {
                                                    "type": "string",
                                                    "enum": [
                                                        "light",
                                                        "shapeDistantSignal",
                                                        "shapeMainSignal"
                                                    ]
                                                },
                                                "face": {
                                                    "type": "string",
                                                    "enum": [
                                                        "front",
                                                        "back",
                                                        "unknown"
                                                    ]
                                                },
                                                "size_animal": {
                                                    "type": "string",
                                                    "enum": [
                                                        "small",
                                                        "medium",
                                                        "large"
                                                    ]
                                                },
                                                "type_train": {
                                                    "type": "string",
                                                    "enum": [
                                                        "commuter",
                                                        "regional",
                                                        "locomotive",
                                                        "intercity",
                                                        "construction",
                                                        "other"
                                                    ]
                                                },
                                                "connectedTo": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "isDummy": {
                                                    "type": "boolean"
                                                }
                                            }
                                        },
                                        "sensor": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "type": "string"
                                                },
                                                "uri": {
                                                    "type": "string"
                                                },
                                                "timestamp": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "timestamp",
                                                "type",
                                                "uri"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "attributes",
                                        "className",
                                        "geometry",
                                        "id",
                                        "objectId",
                                        "sensor"
                                    ]
                                }
                            },
                            "2D_POLYLINE": {
                                "type": "array",
                                "items": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "objectId": {
                                            "type": "string"
                                        },
                                        "className": {
                                            "type": "string"
                                        },
                                        "geometry": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "points": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "number"
                                                        },
                                                        "minItems": 2,
                                                        "maxItems": 2
                                                    }
                                                }
                                            },
                                            "required": [
                                                "points"
                                            ]
                                        },
                                        "attributes": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "trackId": {
                                                    "type": "string"
                                                },
                                                "railSide": {
                                                    "type": "string",
                                                    "enum": [
                                                        "leftRail",
                                                        "rightRail",
                                                        "none"
                                                    ]
                                                },
                                                "occlusion": {
                                                    "type": "string",
                                                    "enum": [
                                                        "0-25%",
                                                        "25-50%",
                                                        "50-75%",
                                                        "75-100%",
                                                        "100%"
                                                    ]
                                                },
                                                "isEgoTrack": {
                                                    "type": "boolean"
                                                },
                                                "connectToSecondPolylineTrack": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "endTrack": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "startTrack": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "isTruncated": {
                                                    "type": "boolean"
                                                }
                                            }
                                        },
                                        "sensor": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "type": "string"
                                                },
                                                "uri": {
                                                    "type": "string"
                                                },
                                                "timestamp": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "timestamp",
                                                "type",
                                                "uri"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "attributes",
                                        "className",
                                        "geometry",
                                        "id",
                                        "objectId",
                                        "sensor"
                                    ]
                                }
                            },
                            "2D_POLYGON": {
                                "type": "array",
                                "items": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "objectId": {
                                            "type": "string"
                                        },
                                        "className": {
                                            "type": "string"
                                        },
                                        "geometry": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "points": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "number"
                                                        },
                                                        "minItems": 2,
                                                        "maxItems": 2
                                                    }
                                                }
                                            },
                                            "required": [
                                                "points"
                                            ]
                                        },
                                        "attributes": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "trackId": {
                                                    "type": "string"
                                                },
                                                "SignalConnectedToSignals": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "occlusion": {
                                                    "type": "string",
                                                    "enum": [
                                                        "0-25%",
                                                        "25-50%",
                                                        "50-75%",
                                                        "75-100%",
                                                        "100%"
                                                    ]
                                                },
                                                "isTruncated": {
                                                    "type": "boolean"
                                                },
                                                "size": {
                                                    "type": "string",
                                                    "enum": [
                                                        "small",
                                                        "medium",
                                                        "large"
                                                    ]
                                                },
                                                "type_road_vehicle": {
                                                    "type": "string",
                                                    "enum": [
                                                        "car",
                                                        "van",
                                                        "truck",
                                                        "bus",
                                                        "constructionVehicle",
                                                        "trailer",
                                                        "other"
                                                    ]
                                                },
                                                "type_wagon": {
                                                    "type": "string",
                                                    "enum": [
                                                        "freight",
                                                        "intercity",
                                                        "regional",
                                                        "construction",
                                                        "other"
                                                    ]
                                                },
                                                "isBottomVisible": {
                                                    "type": "boolean"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "state": {
                                                    "type": "string",
                                                    "enum": [
                                                        "leftTrack",
                                                        "onTrack",
                                                        "rightTrack",
                                                        "unknown"
                                                    ]
                                                },
                                                "type_train": {
                                                    "type": "string",
                                                    "enum": [
                                                        "commuter",
                                                        "regional",
                                                        "locomotive",
                                                        "intercity",
                                                        "construction",
                                                        "other"
                                                    ]
                                                },
                                                "trainConnectedToWagon": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "roadVehicleConnectedToRoadVehicle": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "sensor": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "type": "string"
                                                },
                                                "uri": {
                                                    "type": "string"
                                                },
                                                "timestamp": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "timestamp",
                                                "type",
                                                "uri"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "attributes",
                                        "className",
                                        "geometry",
                                        "id",
                                        "objectId",
                                        "sensor"
                                    ]
                                }
                            },
                            "3D_BOUNDING_BOX": {
                                "type": "array",
                                "items": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "objectId": {
                                            "type": "string"
                                        },
                                        "className": {
                                            "type": "string"
                                        },
                                        "geometry": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "size": {
                                                    "additionalProperties": true,
                                                    "type": "object",
                                                    "properties": {
                                                        "height": {
                                                            "type": "number"
                                                        },
                                                        "width": {
                                                            "type": "number"
                                                        },
                                                        "length": {
                                                            "type": "number"
                                                        }
                                                    },
                                                    "required": [
                                                        "height",
                                                        "length",
                                                        "width"
                                                    ]
                                                },
                                                "center": {
                                                    "additionalProperties": true,
                                                    "type": "object",
                                                    "properties": {
                                                        "x": {
                                                            "type": "number"
                                                        },
                                                        "y": {
                                                            "type": "number"
                                                        },
                                                        "z": {
                                                            "type": "number"
                                                        }
                                                    },
                                                    "required": [
                                                        "x",
                                                        "y",
                                                        "z"
                                                    ]
                                                },
                                                "quaternion": {
                                                    "additionalProperties": true,
                                                    "type": "object",
                                                    "properties": {
                                                        "x": {
                                                            "type": "number"
                                                        },
                                                        "y": {
                                                            "type": "number"
                                                        },
                                                        "z": {
                                                            "type": "number"
                                                        },
                                                        "w": {
                                                            "type": "number"
                                                        }
                                                    },
                                                    "required": [
                                                        "w",
                                                        "x",
                                                        "y",
                                                        "z"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "center",
                                                "quaternion",
                                                "size"
                                            ]
                                        },
                                        "attributes": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "trackId": {
                                                    "type": "string"
                                                },
                                                "SignalConnectedToSignals": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "pose": {
                                                    "type": "string"
                                                },
                                                "isDummy": {
                                                    "type": "boolean"
                                                },
                                                "type_pram": {
                                                    "type": "string",
                                                    "enum": [
                                                        "stroller",
                                                        "buggy",
                                                        "other"
                                                    ]
                                                },
                                                "roadVehicleConnectedToRoadVehicle": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "SignalAttachement_Left": {
                                                    "type": "boolean"
                                                },
                                                "belongsTo": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "isBottomVisible": {
                                                    "type": "boolean"
                                                },
                                                "isTruncated": {
                                                    "type": "boolean"
                                                },
                                                "SignalAttachement_Bottom": {
                                                    "type": "boolean"
                                                },
                                                "occlusion": {
                                                    "type": "string",
                                                    "enum": [
                                                        "0-25%",
                                                        "25-50%",
                                                        "50-75%",
                                                        "75-100%",
                                                        "100%"
                                                    ]
                                                },
                                                "isEgoTrack": {
                                                    "type": "boolean"
                                                },
                                                "state": {
                                                    "type": "string",
                                                    "enum": [
                                                        "leftTrack",
                                                        "onTrack",
                                                        "rightTrack",
                                                        "unknown"
                                                    ]
                                                },
                                                "count": {
                                                    "type": "string",
                                                    "enum": [
                                                        "<25",
                                                        "25-50",
                                                        "50-75",
                                                        ">75"
                                                    ]
                                                },
                                                "personConnectedToBicycle": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "trainConnectedToWagon": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "SignalAttachement_Top": {
                                                    "type": "boolean"
                                                },
                                                "structure": {
                                                    "type": "string"
                                                },
                                                "state_personal_item": {
                                                    "type": "string",
                                                    "enum": [
                                                        "pulled",
                                                        "carried",
                                                        "alone"
                                                    ]
                                                },
                                                "SignalAttachement_Right": {
                                                    "type": "boolean"
                                                },
                                                "personConnectedToPerson": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "signalPoleConnectedToSignals": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "age": {
                                                    "type": "string"
                                                },
                                                "aid": {
                                                    "type": "string"
                                                },
                                                "function": {
                                                    "type": "string"
                                                },
                                                "type_road_vehicle": {
                                                    "type": "string",
                                                    "enum": [
                                                        "car",
                                                        "van",
                                                        "truck",
                                                        "bus",
                                                        "constructionVehicle",
                                                        "trailer",
                                                        "other"
                                                    ]
                                                },
                                                "size": {
                                                    "type": "string",
                                                    "enum": [
                                                        "small",
                                                        "medium",
                                                        "large"
                                                    ]
                                                },
                                                "pramConnectedToPerson": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type_wagon": {
                                                    "type": "string",
                                                    "enum": [
                                                        "freight",
                                                        "intercity",
                                                        "regional",
                                                        "construction",
                                                        "other"
                                                    ]
                                                },
                                                "type_signal": {
                                                    "type": "string",
                                                    "enum": [
                                                        "light",
                                                        "shapeDistantSignal",
                                                        "shapeMainSignal"
                                                    ]
                                                },
                                                "type_personal_item": {
                                                    "type": "string",
                                                    "enum": [
                                                        "suitcase",
                                                        "umbrella",
                                                        "others"
                                                    ]
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "endTrack": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "startTrack": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "onTrack": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "motorcycleConnectedToPerson": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "wheelchairConnectedToPerson": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type_train": {
                                                    "type": "string",
                                                    "enum": [
                                                        "commuter",
                                                        "regional",
                                                        "locomotive",
                                                        "intercity",
                                                        "construction",
                                                        "other"
                                                    ]
                                                },
                                                "state_pram": {
                                                    "type": "string",
                                                    "enum": [
                                                        "carried",
                                                        "pushed",
                                                        "steady"
                                                    ]
                                                },
                                                "state_bicycle": {
                                                    "type": "string",
                                                    "enum": [
                                                        "carried",
                                                        "pushed",
                                                        "ridden",
                                                        "motionless"
                                                    ]
                                                },
                                                "size_animal": {
                                                    "type": "string",
                                                    "enum": [
                                                        "small",
                                                        "medium",
                                                        "large"
                                                    ]
                                                }
                                            }
                                        },
                                        "sensor": {
                                            "additionalProperties": true,
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "type": "string"
                                                },
                                                "uri": {
                                                    "type": "string"
                                                },
                                                "timestamp": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "timestamp",
                                                "type",
                                                "uri"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "attributes",
                                        "className",
                                        "geometry",
                                        "id",
                                        "objectId",
                                        "sensor"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "2D_BOUNDING_BOX",
                            "2D_POLYGON",
                            "2D_POLYLINE",
                            "3D_BOUNDING_BOX"
                        ]
                    }
                },
                "required": [
                    "annotations",
                    "frameId",
                    "timestamp"
                ]
            }
        }
    },
    "required": [
        "coordinateSystems",
        "frames",
        "metadata"
    ]
}
